<div fxLayout="row" fxLayoutAlign="space-between start" class="margins">
    <div fxLayoutAlign="start center">
        <form *ngIf="filtersForm" [formGroup]="filtersForm">
            <!-- REQUEST STATE -->
            <mat-form-field appearance="outline">
                <mat-label>Tipo usuario</mat-label>
                <mat-select formControlName="userType" (selectionChange)="filterUsers($event)">
                <mat-option value="todos">Todos</mat-option>
                <mat-option value="demandante">Demandante</mat-option>
                <mat-option value="empleado">Empleado</mat-option>
                </mat-select>
            </mat-form-field>
        </form>
    </div>
    <div fxLayoutAlign="end center">
        <button mat-button class="btn-create" (click)="addUser()">
            Nuevo usuario
        </button>
    </div>
</div>

<div fxLayout="row" class="margins">
    <table mat-table [dataSource]="filteredUsers" class="mat-elevation-z8">
        <ng-container matColumnDef="nif">
            <th mat-header-cell *matHeaderCellDef>NIF/Pasaporte</th>
            <td mat-cell *matCellDef="let element"> {{element.nif}} </td>
        </ng-container>
        <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef>Nombre</th>
            <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
        </ng-container>
        <ng-container matColumnDef="primerApellido">
            <th mat-header-cell *matHeaderCellDef>Primer apellido</th>
            <td mat-cell *matCellDef="let element"> {{element.primerApellido}} </td>
        </ng-container>
        <ng-container matColumnDef="segundoApellido">
            <th mat-header-cell *matHeaderCellDef>Segundo apellido</th>
            <td mat-cell *matCellDef="let element"> {{element.segundoApellido}} </td>
        </ng-container>
        <ng-container matColumnDef="tipo">
            <th mat-header-cell *matHeaderCellDef>Tipo</th>
            <td mat-cell *matCellDef="let element"> {{element.tipo}} </td>
        </ng-container>
        <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <div fxLayoutAlign="end end" fxLayoutGap="10px">
                        <button mat-raised-button color="primary" (click)="viewUser(element.id)">
                            Ver
                        </button>
                        <button mat-raised-button color="accent" (click)="editUser(element.id)">
                            Editar
                        </button>
                        <button mat-raised-button color="warn" (click)="deleteUser(element)">
                            Eliminar
                        </button>
                    </div>
                </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
</div>